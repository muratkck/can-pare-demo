{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import Header from'../components/Header';import Footer from'../components/Footer';import{useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductPage=()=>{const{productId}=useParams();// Use useParams to extract productId\nconst[productData,setProductData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const fetchProductDetails=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/search/\".concat(productId));console.log(response.data);// Konsola yanıtı yazdırarak kontrol edin\nif(response.data&&response.data.length>0){setProductData(response.data[0]);}else{setError('No product data found');}setLoading(false);}catch(error){console.error(\"Error fetching product details\",error);setError('Error fetching product details');setLoading(false);}};useEffect(()=>{if(productId){fetchProductDetails();}},[productId]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}if(!productData){return/*#__PURE__*/_jsx(\"div\",{children:\"No product data found.\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto mt-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"img\",{src:productData.productImage,alt:productData.productName,className:\"rounded-lg\",style:{height:'300px',width:'300px',objectFit:'cover'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:productData.productName}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600\",children:[\"Category: \",productData.productCategory]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-700\",children:productData.productDescription}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600\",children:[\"Seller: \",productData.productSeller]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600\",children:[\"Stock: \",productData.productStock]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-600\",children:[\"Price: $\",productData.productPrice]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",children:\"Add to Cart\"})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default ProductPage;","map":{"version":3,"names":["React","useEffect","useState","axios","Header","Footer","useParams","jsx","_jsx","jsxs","_jsxs","ProductPage","productId","productData","setProductData","loading","setLoading","error","setError","fetchProductDetails","response","get","concat","console","log","data","length","children","className","src","productImage","alt","productName","style","height","width","objectFit","productCategory","productDescription","productSeller","productStock","productPrice"],"sources":["/home/ardasdas/Desktop/Github/can-pare-demo/frontend/src/pages/ProductPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport { useParams } from 'react-router-dom';\n\nconst ProductPage = () => {\n  const { productId } = useParams();  // Use useParams to extract productId\n  const [productData, setProductData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  const fetchProductDetails = async () => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/search/${productId}`);\n      console.log(response.data); // Konsola yanıtı yazdırarak kontrol edin\n      if (response.data && response.data.length > 0) {\n        setProductData(response.data[0]);\n      } else {\n        setError('No product data found');\n      }\n      setLoading(false);\n    } catch (error) {\n      console.error(\"Error fetching product details\", error);\n      setError('Error fetching product details');\n      setLoading(false);\n    }\n  };\n  \n\n  useEffect(() => {\n    if (productId) {\n      fetchProductDetails();\n    }\n  }, [productId]);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>{error}</div>;\n  }\n\n  if (!productData) {\n    return <div>No product data found.</div>;\n  }\n\n  return (\n    <div>\n      <Header />\n      <div className=\"container mx-auto mt-10\">\n        <div className=\"bg-white p-8 rounded-lg shadow-md flex items-center space-x-4\">\n          {/* Product Image */}\n          <div className=\"flex-shrink-0\">\n            <img\n              src={productData.productImage}\n              alt={productData.productName}\n              className=\"rounded-lg\"\n              style={{ height: '300px', width: '300px', objectFit: 'cover' }}\n            />\n          </div>\n          \n          {/* Product Details */}\n          <div className=\"flex flex-col space-y-4\">\n            <h2 className=\"text-xl font-semibold\">{productData.productName}</h2>\n            <div className=\"text-gray-600\">Category: {productData.productCategory}</div>\n            <div className=\"text-gray-700\">{productData.productDescription}</div>\n            <div className=\"text-gray-600\">Seller: {productData.productSeller}</div>\n            <div className=\"text-gray-600\">Stock: {productData.productStock}</div>\n            <div className=\"text-gray-600\">Price: ${productData.productPrice}</div>\n            <button className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\">\n              Add to Cart\n            </button>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default ProductPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}